Interface Design,,,,
,,,,
Created on 2025-04-20 by Tom Lever,,,,
Updated on 2025-05-05 by Tom Lever,,,,
,,,,
,,,,
"If there is an error, a response with status code 200 and a JSON object with key error will be provided.",,,,
TODO: Use other status codes.,,,,
,,,,
,,,,
GET,/,"This endpoint is called when a client navigates to the application URL (e.g., `localhost:3000`).",,
,,The endpoint responds with a JSON object with the following key value pair.,,
,"""message""","""Welcome to the Settlers of Catan API!""",,
,,,,
,,,,
GET,/cities,This endpoint is called when the client loads or refreshes the board state on page load and after a move or reset.,,
,,This endpoint responds with a JSON object with the following key value pair.,,
,"""cities""",array of JSON objects with the following keys.,,
,,"""id""",natural number identifying city,
,,"""player""",natural number identifying player,
,,"""vertex""","""V<'01', '02', ..., or '54'>""",
,,,,
,,,,
POST,/automateMove,"This endpoint is called when a user presses the ""Automate Move"" button to let the AI advance the game.",,
,,"The endpoint responds with a superset of the /state keys, minus ""dice"" and minus ""gainedResources"" unless move results in resource changes, and additional structure placement keys when a structure was placed.",,
,,,,
,1 of the following keys appears when a structure is placed during setup and when a player is taking a turn.,,,
,"""city"" or ""settlement""",,,
,,"""vertex""","""V<'01', '02', …, or '54'>""",
,,"""id""",natural number identifying city or settlement,
,,"""player""",natural number identifying player,
,"""road""",,,
,,"""edge""","""E<'01', '02', …, '72'>""",
,,"""id""",natural number identifying road,
,,"""player""",natural number identifying player,
,,,,
,The following key is appears when a structure is placed when a player is taking a turn.,,,
,"""wall""",,,
,,"""vertex""","""V<'01', '02', …, or '54'>""",
,,"""id""",natural number identifying wall,
,,"""player""",natural number identifying player,
,,,,
,,,,
POST,/makeMove,This endpoint is called when a human player chooses an explicit move from the client UI.,,
,,,,
,,Request body must include the following.,,
,,"""move""","label of vertex or edge or ""pass""",
,,"""moveType""","""city"", ""pass"", ""road"", ""settlement"", or ""wall""",
,,,,
,Response follows /automateMove.,,,
,,,,
,,,,
GET,/recommendMove,This endpoint is called when the player requests an AI hint.,,
,,This endpoint responds with a JSON object containing the following.,,
,,"""message""",recommendation,
,,,,
,,,,
POST,/reset,This endpoint is called when a user presses the Reset button to restart the game.,,
,,This endpoint responds with a JSON object with the following key value pair.,,
,"""message""","""Game has been reset to initial state.""",,
,,,,
,,,,
GET,/roads,This endpoint is called when the client loads or refreshes road placements on page load and after a move or reset.,,
,,This endpoint responds with a JSON object with the following key value pair.,,
,"""roads""",array of JSON objects with the following keys.,,
,,"""id""",natural number identifying road,
,,"""player""",natural number identifying player,
,,"""edge""","""E<'01', '02', ..., or '72'>""",
,,,,
,,,,
GET,/settlements,This endpoint is called when the client loads or refreshes settlement placements on page load and after a move or reset.,,
,,This endpoint responds with a JSON object with the following key value pair.,,
,"""settlements""",array of JSON objects with the following keys.,,
,,"""id""",natural number identifying settlement,
,,"""player""",natural number identifying player,
,,"""vertex""","""V<'01', '02', ..., or '54'>""",
,,,,
,,,,
GET,/state,This endpoint is called on page load to retrieve the lastest saved game state and UI information.,,
,,This endpoint responds with a JSON object with the following keys.,,
,,,,
,"Key ""dice"" is included always but corresponds to an empty until a player rolled the dice. Non-empty objects are provided in subsequent calls.",,,
,"""dice""",JSON object describing the last dice roll,,
,,"""yellowProductionDie""",natural number between 1 and 6,
,,"""redProductionDie""",natural number between 1 and 6,
,,"""whiteEventDie""","""yellow"", ""green"", ""blue"", or ""black""",
,,,,
,"Key ""gainedResources"" is included always but is empty if no gains have happened yet and full of numbers (possibly all zeros) if the game has been reset or gains have happened.",,,
,"""gainedResources""",JSON object mapping each player to resource changes,,
,,"""Player <natural number identifying player>""",,
,,,"""brick""",whole number
,,,"""grain""",whole number
,,,"""lumber""",whole number
,,,"""ore""",whole number
,,,"""wool""",whole number
,,,"""cloth""",whole number
,,,"""coin""",whole number
,,,"""paper""",whole number
,,,,
,"Key ""message"" is included always but could be empty initially.",,,
,"""message""",last server message,,
,,"""Player <number of player> placed a <'city', 'road', 'settlement', or 'wall'> at <'E' or 'V'><number of edge or vertex>.""",,
,,"""Player <number of player> rolled the dice.""",,
,,"""Game is over. Thanks for playing!""",,
,,"""Player <number of player> passed.""",,
,,"""Recommend move: <move type> at <move>.""",,
,,,,
,"Key ""phase"" is included always.",,,
,"""phase""",description of current phase,,
,,,,
,"Key ""possibleNextMoves"" is included to show all moves the next player can make and is present always.",,,
,"""possibleNextMoves""",JSON object with the following keys,,
,,"""player""",natural number identifying the next player,
,,"""nextPlayerWillRollDice""",boolean,
,,"""vertices""",JSON object mapping vertex labels to arrays of move types,
,,,"""V<natural number identifying vertex>""","JSON array of possible move types (i.e., ""city"", ""settlement"", and ""wall"")"
,,"""edges""",array of labels of edges available to the next player,
,,,,
,"Key ""totalResources"" is included always.",,,
,"""totalResources""",JSON object mapping each player to total resource counts,,
,,"""Player <natural number identifying player>""",,
,,,"""brick""",whole number
,,,"""grain""",whole number
,,,"""lumber""",whole number
,,,"""ore""",whole number
,,,"""wool""",whole number
,,,"""cloth""",whole number
,,,"""coin""",whole number
,,,"""paper""",whole number
,,,,
GET,/walls,This endpoint is called when the client loads or refreshes wall placements on page load and after a move or reset.,,
,,This endpoint responds with a JSON object with the following key value pair.,,
,"""walls""",array of JSON objects with the following keys.,,
,,"""id""",natural number identifying wall,
,,"""player""",natural number identifying player,
,,"""vertex""","""V<'01', '02', …, '54'>""",
